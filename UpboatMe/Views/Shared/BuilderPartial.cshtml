@model BuilderViewModel
@{
    var previewUrl = Model.GetPreviewUrl(Url);
}
<div class="row">
    <div class="large-6 columns">
        <form id="builder-form" action="@Url.Action("Builder", "Meme", new { url = "" })">
            @Html.DropDownList("name", new SelectList(Model.Memes.Select(m => new { Value = m.Aliases.First(), Text = m.Description }), "Value", "Text", Model.SelectedMeme))
            <input name="top" type="text" id="first-line" placeholder="Top Line" value="@Model.Top" />
            <input name="bottom" type="text" id="second-line" placeholder="Bottom Line" value="@Model.Bottom" />
            <div class="text-right">
                <input class="small button" type="submit" value="Create!" id="create-meme" />
            </div>
        </form>
        @if (!string.IsNullOrEmpty(Model.Top) || !string.IsNullOrEmpty(Model.Bottom))
        {
            <div>
                <h3 id="share">Share it!</h3>
                <div class="row">
                    <div class="large-12 columns" style="">
                        <div id="share-url" class="throb">@previewUrl</div>
                    </div>
                </div>
                <div class="row" style="margin-top: 1em; margin-bottom: 1em;">
                    <div class="large-12 columns text-right">
                        <a href="https://www.facebook.com/sharer/sharer.php?u=@(previewUrl)" target="_blank">
                            <img src="@Url.Content("~/Content/social/24px/facebook.png")" alt="Share to Facebook" title="Share to Facebook" />
                        </a>
                        <a href="https://twitter.com/share?url=@(previewUrl)&via=upboatme&text=@(Model.GetShareText())" target="_blank">
                            <img src="@Url.Content("~/Content/social/24px/twitter.png")" alt="Share to Twitter" title="Share to Twitter" />
                        </a>
                        <a href="http://www.reddit.com/r/AdviceAnimals/submit?title=@(Model.GetShareText())&url=@(previewUrl)" target="_blank">
                            <img src="@Url.Content("~/Content/social/24px/reddit.png")" alt="Share to Reddit" title="Share to Reddit" />
                        </a>

                        <a href="http://pinterest.com/pin/create/button/?url=@(previewUrl)&media=@(previewUrl)&description=@(Model.GetShareText())" target="_blank">
                            <img src="@Url.Content("~/Content/social/24px/pinterest.png")" alt="Pin it" title="Pin it" />
                        </a>
                    </div>
                </div>
            </div>
        }
    </div>
    <div class="large-6 columns">
        <img id="meme-preview" src="@(previewUrl)" alt="@(@Model.GetAltText())" title="@(@Model.GetAltText())"/>
    </div>
</div>
